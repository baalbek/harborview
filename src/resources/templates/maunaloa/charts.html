<!DOCTYPE html>
<html lang="en">
<head>
    <!--
    <title>Maunaloa - Charts</title>
    -->
    <title>Visual Studio Web Example</title>
    <meta charset="UTF-8">
    {% include "templates/head.html" %}
    <script src="/js/elm/maunaloa/elm-charts.js"></script>
</head>
<body>
    <div class="logo"></div>
    <div class="container">
        <div id="my-app"></div>
    </div>
    <div style="position: absolute; top:200px; left:200px;">
        <canvas id="my-canvas" width="1200" height="600"></canvas>
    </div>
    <script type="text/javascript">
        var node = document.getElementById('my-app');
        var app = Elm.Maunaloa.Charts.embed(node);
        var drawCanvas = function (xss) {
          var xs = xss[0];
          var ys = xss[1];

          var canvas = document.getElementById('my-canvas');
          var ctx = canvas.getContext("2d");
          var h = 100;
          var w = 200;
          var offset = 5;
          ctx.lineWidth = 0.5;
          //ctx.setLineDash([5,10]);
          ctx.strokeStyle = "#FF0000";
          ctx.moveTo(offset,offset);
          for (var i = 0; i < xs.length; ++i) {
            var y = ys[i];
            var x = xs[i];
            ctx.lineTo(x,y);
          }
          /*
          ctx.lineTo(offset,h);
          ctx.lineTo(w,h);
          ctx.lineTo(w,offset);
          ctx.lineTo(offset,offset);
          */
          ctx.stroke();
        }
        app.ports.drawCanvas.subscribe(drawCanvas);
    </script>
</body>
</html>
