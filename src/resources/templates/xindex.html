<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>React Tutorial</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.14.3/react.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.14.3/react-dom.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.23/browser.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/0.3.2/marked.min.js"></script>
</head>
<body>
    <div id="content"></div>
    <script type="text/babel">
        // To get started with this tutorial running your own code, simply remove
        // the script tag loading scripts/example.js and start writing code here.

	var localdata = [
	  {id: 1, author: "Pete Hunt", text: "This is one comment"},
	  {id: 2, author: "Jordan Walke", text: "This is *another* comment"}
	];
    var Comment = React.createClass({
      render: function() {
          return (
            <div className="comment">
                <h2 className="commentAuthor">
                    {this.props.author} 
                </h2>
                <h3 className="commentAuthor">
                    Id: {this.props.idx}
                </h3>
                {this.props.children}
            </div>
        );
    }});
    var CommentList = React.createClass({
    render: function() {
        var commentNodes = this.props.data.map(function(comment) {
                return (
                    <Comment author={comment.author} key={comment.id} idx={comment.id}>
                        {comment.text}
                    </Comment>
                );
            });
            return (
                <div className="commentList">
                    {commentNodes}
                </div>
            );
        }}
    );
	var CommentBox = React.createClass({
        getInitialState: function() {
            return {data: []};
        },
        componentDidMount: function() {
            this.setState({data: localdata});
        },
        render: function() {
            return (
            <div className="commentBox">
                <h1>Comments</h1>
                <CommentList data={this.state.data}/>
            </div>
            );
        }
	});
    var options = ['Ferrari', 'Lamborghini', 'Mazeratti', '1989 Mazda MPV'];
    var options2 = [
        {name: "Ferrari", value: "1"},
        {name: "Ferrari2", value: "2"},
        {name: "Ferrari3", value: "3"}
    ]


    var SelectComponent = React.createClass({  
        getInitialState: function(){
            return {
            selectValue: this.props.options[0]
            };
        },
        handleChange: function(e){
            var selectedOption = e.target.value;
            this.setState({
                selectValue: selectedOption
            });
            alert(selectedOption);
        },
        render: function(){
            var selectValue = this.state.selectValue;
            var cOptions = this.props.options.map(function(item, index){
                    return <option key={index} value={item.value}>{item.name}</option>
                });
            return (
                <div>
                    <select onChange={this.handleChange} value={selectValue}>{cOptions}</select>
                </div>
            )
        }
    });

    ReactDOM.render(<SelectComponent options={options2}/>, document.getElementById('content'));  
	//ReactDOM.render(<CommentBox />,document.getElementById('content'));
    </script>
</body>
</html>
